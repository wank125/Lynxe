import{d as C,a as u,b as m,z as V,l as K,f as x,i as P,I as D,e as t,t as d,A as j,r as T,u as G,c as v,o as z,g as b,w as A,m as O,F as U,q as Q,x as W,B as S}from"./index-WjMAoR12.js";import{_ as X}from"./Java-AI-BYpq8IxI.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{L as Y}from"./plan-template-with-tool-api-service-mLh5z1Zw.js";import{u as Z,s as I,t as f}from"./templateStore-Df_vNzZ_.js";const ee={key:1,class:"blur-card-content"},oe=C({__name:"BlurCard",props:{content:{},wrapperStyle:{}},emits:["clickCard"],setup(y,{emit:r}){const l=y,n=r,c=()=>{console.log("[BlurCard] handleClick called with content:",l.content),n("clickCard",l.content),console.log("[BlurCard] clickCard event emitted")};return(o,k)=>(m(),u("button",{class:"blur-card",onClick:c,style:V(o.wrapperStyle)},[o.content?.icon?(m(),K(P(D),{key:0,icon:o.content.icon,class:"blur-card-icon"},null,8,["icon"])):x("",!0),o.content?.title||o.content?.description?(m(),u("div",ee,[t("h3",null,d(o.content?.title),1),t("p",null,d(o.content?.description),1)])):x("",!0)],4))}}),te=B(oe,[["__scopeId","data-v-4f09be0d"]]),ae={class:"home-page"},se={class:"welcome-container"},le={class:"header"},ne={class:"header-top"},ce={class:"main-content"},re={class:"conversation-container"},ie={class:"welcome-section"},de={class:"welcome-title"},me={class:"welcome-subtitle"},pe={class:"input-section"},ue={class:"input-container"},ge=["placeholder"],he=["disabled"],ve={class:"examples-section"},be={class:"examples-grid"},fe={class:"card-type"},ye=C({name:"HomeIndex",__name:"index",setup(y){const r=W(),l=j(),n=T(""),c=T(),{t:o}=G(),k=()=>{const e=Date.now().toString();r.push({name:"direct",params:{id:e}}).then(()=>{console.log("[Home] jump to direct page"+o("common.success"))}).catch(a=>{console.error("[Home] jump to direct page"+o("common.error"),a)})},w=v(()=>[{title:o("home.examples.stockPrice.title"),type:"github",description:o("home.examples.stockPrice.description"),icon:"carbon:chart-line-data",url:o("home.examples.stockPrice.url")},{title:o("home.examples.weather.title"),type:"github",description:o("home.examples.weather.description"),icon:"carbon:location",url:o("home.examples.weather.url")},{title:o("home.examples.imagePdfRecognition.title"),type:"github",description:o("home.examples.imagePdfRecognition.description"),icon:"carbon:document-view",url:o("home.examples.imagePdfRecognition.url")}]),N=v(()=>[{title:o("home.examples.queryplan.title"),type:"github",description:o("home.examples.queryplan.description"),icon:"carbon:plan",url:o("home.examples.queryplan.url")},{title:o("home.examples.ainovel.title"),type:"github",description:o("home.examples.ainovel.description"),icon:"carbon:document-tasks",url:o("home.examples.ainovel.url")},{title:o("home.examples.formInputDemo.title"),type:"github",description:o("home.examples.formInputDemo.description"),icon:"carbon:watson",url:o("home.examples.formInputDemo.url")}]),E=v(()=>[...w.value,...N.value]),L=e=>{console.log("[Home] openGitHubPage called with item:",e),e.url&&window.open(e.url,"_blank")},R=e=>{e.type==="github"?L(e):e.type==="message"?J(e):e.type==="plan-act"&&M(e)};z(()=>{console.log("[Home] onMounted called"),console.log("[Home] taskStore:",l),console.log("[Home] examples:",w),l.markHomeVisited(),console.log("[Home] Home visited marked")});const i=Z(),$=async e=>{try{if(await f.createNewTemplate(e.planType),i.fromJsonString(JSON.stringify(e)),!await i.save())throw new Error("Failed to save plan template");const s={saved:!0,message:"Plan template saved successfully",planId:i.config.planTemplateId||i.selectedTemplate.value?.planTemplateId};return console.log("[Home] Plan template saved successfully:",s.planId),s}catch(a){console.error("[Home] Failed to save the plan to the template library:",a);const s=a instanceof Error?a.message:o("sidebar.saveFailed");throw alert(s),a}},q=()=>{S(()=>{c.value&&(c.value.style.height="auto",c.value.style.height=Math.min(c.value.scrollHeight,200)+"px")})},F=e=>{console.log("[Home] handleKeydown called, key:",e.key),e.key==="Enter"&&e.ctrlKey&&(e.preventDefault(),console.log("[Home] Ctrl+Enter key pressed, calling handleSend"),H())},H=()=>{if(console.log("[Home] handleSend called, userInput:",n.value),!n.value.trim()){console.log("[Home] handleSend aborted - empty input");return}const e=n.value.trim();console.log("[Home] Setting task to store:",e),l.setTask(e),console.log("[Home] Task set to store, current task:",l.currentTask);const a=Date.now().toString();console.log("[Home] Navigating to direct page with chatId:",a),r.push({name:"direct",params:{id:a}}).then(()=>{console.log("[Home] Navigation to direct page completed")}).catch(s=>{console.error("[Home] Navigation error:",s)})},J=e=>{console.log("[Home] selectExample called with example:",e),console.log("[Home] Example prompt:",e.prompt),e.prompt&&l.setTask(e.prompt),console.log("[Home] Task set to store from example, current task:",l.currentTask);const a=Date.now().toString();console.log("[Home] Navigating to direct page with chatId:",a),r.push({name:"direct",params:{id:a}}).then(()=>{console.log("[Home] Navigation to direct page completed (from example)")}).catch(s=>{console.error("[Home] Navigation error (from example):",s)})},M=async e=>{console.log("[Home] selectPlan called with plan:",e);try{const a=await $(e.planJson);console.log("[Home] Plan saved to templates, saveResult:",a);const s=Date.now().toString();await r.push({name:"direct",params:{id:s}}),S(async()=>{await new Promise(p=>setTimeout(p,300)),I.isCollapsed?(await I.toggleSidebar(),console.log("[Home] Sidebar toggled")):console.log("[Home] Sidebar is already open"),await f.loadPlanTemplateList(),console.log("[Home] Template list loaded");const g=a?.planId||e.planJson.planTemplateId,h=i.planTemplateList.value.find(p=>p.planTemplateId===g);if(!h){console.error("[Home] Template not found for ID:",g),console.log("[Home] Available templates:",i.planTemplateList.value.map(p=>p.planTemplateId));return}await f.selectTemplate(h),console.log("[Home] Template selected:",h.title);const _=document.querySelector(".execute-btn");_.disabled?console.error("[Home] Execute button not found or disabled"):(console.log("[Home] Triggering execute button click"),_.click())})}catch(a){console.error("[Home] Error in selectPlan:",a)}};return(e,a)=>(m(),u("div",ae,[t("div",se,[a[2]||(a[2]=t("div",{class:"background-effects"},[t("div",{class:"gradient-orb orb-1"}),t("div",{class:"gradient-orb orb-2"}),t("div",{class:"gradient-orb orb-3"})],-1)),t("header",le,[t("div",ne,[b(Y)]),a[1]||(a[1]=t("div",{class:"logo-container"},[t("div",{class:"logo"},[t("img",{src:X,alt:"Lynxe",class:"java-logo"}),t("h1",null,"Lynxe")])],-1))]),t("main",ce,[t("div",re,[t("div",ie,[t("h2",de,d(e.$t("home.welcomeTitle")),1),t("p",me,d(e.$t("home.welcomeSubtitle")),1),t("button",{class:"direct-button",onClick:k},d(e.$t("home.directButton")),1)]),t("div",pe,[t("div",ue,[A(t("textarea",{"onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s),ref_key:"textareaRef",ref:c,class:"main-input",placeholder:e.$t("home.inputPlaceholder"),onKeydown:F,onInput:q},null,40,ge),[[O,n.value]]),t("button",{class:"send-button",disabled:!n.value.trim(),onClick:H},[b(P(D),{icon:"carbon:send-alt"})],8,he)])]),t("div",ve,[t("div",be,[(m(!0),u(U,null,Q(E.value,s=>(m(),u("div",{key:s.title,class:"card-with-type"},[b(te,{content:s,onClickCard:g=>R(s)},null,8,["content","onClickCard"]),t("span",fe,d(s.type==="github"?"GitHub":s.type),1)]))),128))])])])])])]))}}),Te=B(ye,[["__scopeId","data-v-e1e0ba34"]]);export{Te as default};
//# sourceMappingURL=index--aO6wFdz.js.map
